# üìö –û—Ñ–∏—Ü–∏–∞–ª—å–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è Telegram –¥–ª—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏

## üîó –û—Å–Ω–æ–≤–Ω—ã–µ —Å—Å—ã–ª–∫–∏

### 1. Telegram Bot API - Web Apps

**–û—Ñ–∏—Ü–∏–∞–ª—å–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:**

- **URL:** https://core.telegram.org/bots/webapps
- **–†–∞–∑–¥–µ–ª:** "Validating data received"
- **–û–ø–∏—Å–∞–Ω–∏–µ:** –û—Ñ–∏—Ü–∏–∞–ª—å–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –¥–∞–Ω–Ω—ã—Ö, –ø–æ–ª—É—á–µ–Ω–Ω—ã—Ö —á–µ—Ä–µ–∑ Telegram Mini Apps

### 2. Telegram Bot API - –û—Å–Ω–æ–≤–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

**–û—Ñ–∏—Ü–∏–∞–ª—å–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:**

- **URL:** https://core.telegram.org/bots/api
- **–†–∞–∑–¥–µ–ª:** "Mini Apps" –∏ "Web Apps"
- **–û–ø–∏—Å–∞–Ω–∏–µ:** –ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è Telegram Bot API

### 3. Telegram WebApp SDK

**–û—Ñ–∏—Ü–∏–∞–ª—å–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:**

- **URL:** https://core.telegram.org/bots/webapps#initializing-mini-apps
- **–†–∞–∑–¥–µ–ª:** "Initializing Mini Apps" –∏ "initData"
- **–û–ø–∏—Å–∞–Ω–∏–µ:** –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ Mini Apps –∏ —Ä–∞–±–æ—Ç–µ —Å initData

## üîê –í–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö (Validating data received)

### –ö–ª—é—á–µ–≤–æ–π —Ä–∞–∑–¥–µ–ª –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏:

**URL:** https://core.telegram.org/bots/webapps#validating-data-received

### –ê–ª–≥–æ—Ä–∏—Ç–º –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø–æ–¥–ø–∏—Å–∏ (–∏–∑ –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω–æ–π –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏):

1. **–ü–æ–ª—É—á–∏—Ç—å `initData` —Å—Ç—Ä–æ–∫—É** –æ—Ç Telegram WebApp SDK
2. **–ò–∑–≤–ª–µ—á—å –ø–∞—Ä–∞–º–µ—Ç—Ä `hash`** –∏–∑ —Å—Ç—Ä–æ–∫–∏
3. **–°—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞—Ç—å `check_string`**:
   - –í–∑—è—Ç—å –≤—Å–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∫—Ä–æ–º–µ `hash`
   - –û—Ç—Å–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –∏—Ö –ø–æ –∫–ª—é—á–∞–º –≤ –∞–ª—Ñ–∞–≤–∏—Ç–Ω–æ–º –ø–æ—Ä—è–¥–∫–µ
   - –û–±—ä–µ–¥–∏–Ω–∏—Ç—å –≤ —Å—Ç—Ä–æ–∫—É —Ñ–æ—Ä–º–∞—Ç–∞: `key=value\nkey=value`
4. **–í—ã—á–∏—Å–ª–∏—Ç—å —Å–µ–∫—Ä–µ—Ç–Ω—ã–π –∫–ª—é—á**:
   ```
   secret_key = HMAC-SHA256(key="WebAppData", message=bot_token)
   ```
5. **–í—ã—á–∏—Å–ª–∏—Ç—å HMAC**:
   ```
   computed_hash = HMAC-SHA256(key=secret_key, message=check_string)
   ```
6. **–°—Ä–∞–≤–Ω–∏—Ç—å** `computed_hash` —Å –ø–æ–ª—É—á–µ–Ω–Ω—ã–º `hash`

## üìù –í–∞–∂–Ω—ã–µ –º–æ–º–µ–Ω—Ç—ã –∏–∑ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏:

### ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω—ã–π —Å–ø–æ—Å–æ–±:

- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å **–æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—É—é —Å—Ç—Ä–æ–∫—É `initData`** –æ—Ç Telegram WebApp SDK
- –°–æ—Ö—Ä–∞–Ω—è—Ç—å **—Ç–æ—á–Ω—ã–π –ø–æ—Ä—è–¥–æ–∫** –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –∏ –∑–Ω–∞—á–µ–Ω–∏–π
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å **URL-encoded –∑–Ω–∞—á–µ–Ω–∏—è** –∫–∞–∫ –µ—Å—Ç—å (–Ω–µ –¥–µ–∫–æ–¥–∏—Ä–æ–≤–∞—Ç—å –ø–µ—Ä–µ–¥ –ø—Ä–æ–≤–µ—Ä–∫–æ–π)

### ‚ùå –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π —Å–ø–æ—Å–æ–±:

- –ü–∞—Ä—Å–∏—Ç—å `initData` –∏ –ø–µ—Ä–µ—Å–æ–∑–¥–∞–≤–∞—Ç—å JSON –æ–±—ä–µ–∫—Ç—ã
- –ú–µ–Ω—è—Ç—å –ø–æ—Ä—è–¥–æ–∫ –∫–ª—é—á–µ–π –≤ –æ–±—ä–µ–∫—Ç–∞—Ö
- –î–µ–∫–æ–¥–∏—Ä–æ–≤–∞—Ç—å URL-encoded –∑–Ω–∞—á–µ–Ω–∏—è –ø–µ—Ä–µ–¥ –ø—Ä–æ–≤–µ—Ä–∫–æ–π –ø–æ–¥–ø–∏—Å–∏

## üîß –ü—Ä–∏–º–µ—Ä –∏–∑ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏:

```javascript
// –ü—Ä–∞–≤–∏–ª—å–Ω—ã–π —Å–ø–æ—Å–æ–± –ø–æ–ª—É—á–µ–Ω–∏—è initData
const initData = window.Telegram.WebApp.initData;

// –û—Ç–ø—Ä–∞–≤–∏—Ç—å –Ω–∞ —Å–µ—Ä–≤–µ—Ä –∫–∞–∫ –µ—Å—Ç—å (—Å—Ç—Ä–æ–∫–æ–π)
fetch("/auth/telegram", {
  method: "POST",
  headers: { "Content-Type": "application/json" },
  body: JSON.stringify({ initData: initData }),
});
```

## üìñ –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã:

### Telegram Bot API - –°–µ–∫—Ä–µ—Ç–Ω—ã–π –∫–ª—é—á:

- **URL:** https://core.telegram.org/bots/api#authorizing-your-bot
- **–û–ø–∏—Å–∞–Ω–∏–µ:** –ö–∞–∫ –ø–æ–ª—É—á–∏—Ç—å bot_token –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø–æ–¥–ø–∏—Å–∏

### Telegram WebApp SDK - JavaScript:

- **URL:** https://core.telegram.org/bots/webapps#javascript-sdk
- **–û–ø–∏—Å–∞–Ω–∏–µ:** JavaScript SDK –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å Telegram WebApp

### Telegram WebApp SDK - Flutter:

- **–ü–∞–∫–µ—Ç:** `telegram_web_app` –∏–ª–∏ `telegram_web_app_flutter`
- **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:** https://pub.dev/packages/telegram_web_app
- **–í–∞–∂–Ω–æ:** –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `TelegramWebApp.initDataUnsafe` –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Å—Ç—Ä–æ–∫–∏ initData

## üéØ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏:

1. **–í—Å–µ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—É—é —Å—Ç—Ä–æ–∫—É `initData`** –æ—Ç Telegram WebApp SDK
2. **–ù–µ –ø–∞—Ä—Å–∏—Ç–µ –∏ –Ω–µ –ø–µ—Ä–µ—Å–æ–∑–¥–∞–≤–∞–π—Ç–µ** –¥–∞–Ω–Ω—ã–µ –ø–µ—Ä–µ–¥ –æ—Ç–ø—Ä–∞–≤–∫–æ–π –Ω–∞ —Å–µ—Ä–≤–µ—Ä
3. **–ü—Ä–æ–≤–µ—Ä—è–π—Ç–µ –ø–æ–¥–ø–∏—Å—å –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ**, –∞ –Ω–µ –Ω–∞ –∫–ª–∏–µ–Ω—Ç–µ
4. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ HTTPS** –¥–ª—è –ø–µ—Ä–µ–¥–∞—á–∏ –¥–∞–Ω–Ω—ã—Ö

## ‚ö†Ô∏è –í–∞–∂–Ω–æ:

–°–æ–≥–ª–∞—Å–Ω–æ –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω–æ–π –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ Telegram:

- `initData` –¥–æ–ª–∂–µ–Ω –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å—Å—è **–∫–∞–∫ —Å—Ç—Ä–æ–∫–∞** (–Ω–µ –∫–∞–∫ –æ–±—ä–µ–∫—Ç)
- –ó–Ω–∞—á–µ–Ω–∏—è –≤ `initData` **URL-encoded**
- –ü–æ—Ä—è–¥–æ–∫ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –∏ –∫–ª—é—á–µ–π **–∫—Ä–∏—Ç–∏—á–µ–Ω** –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø–æ–¥–ø–∏—Å–∏
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–ø–∏—Å–∏ –¥–æ–ª–∂–Ω–∞ –≤—ã–ø–æ–ª–Ω—è—Ç—å—Å—è –Ω–∞ **—Å–µ—Ä–≤–µ—Ä–µ**, –∞ –Ω–µ –Ω–∞ –∫–ª–∏–µ–Ω—Ç–µ
