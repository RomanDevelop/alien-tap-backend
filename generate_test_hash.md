# Генерация валидной подписи для тестирования

Для тестирования эндпоинта `/auth/telegram` нужно сгенерировать правильную подпись.

## Как работает проверка подписи:

1. Создаётся `check_string` из всех полей кроме `hash`:
   ```
   auth_date=1234567890\n
   user={"id":123456789,"first_name":"John","username":"player"}
   ```

2. Вычисляется секретный ключ: `SHA256(bot_token)`

3. Создаётся HMAC-SHA256: `HMAC(secret_key, check_string)`

4. Результат конвертируется в hex строку

## Пример валидного запроса:

```json
{
  "auth_date": "1234567890",
  "user": {
    "id": 123456789,
    "username": "player",
    "first_name": "John"
  },
  "hash": "правильная_hex_подпись_здесь"
}
```

## Генерация подписи через скрипт:

Запустите:
```bash
python3 test_telegram_hash.py
```

Это сгенерирует правильный hash для тестового запроса.

## Альтернатива - использовать настоящий Telegram WebApp:

В реальном Telegram WebApp подпись генерируется автоматически. Для тестирования лучше:
1. Запустить Flutter WebApp в Telegram
2. Использовать реальный `initData` от Telegram
3. Или временно отключить проверку подписи для dev режима

